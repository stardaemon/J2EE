<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Manage Sub Services</title>
    </h:head>
    <h:body>
        <ui:composition template="publicTemplate.xhtml">
         <ui:define name="content">
        <h:form>
            <ul>
                <li> Service Id: #{subServiceControl.service.serviceid}</li>
                <li>Service Name:  #{subServiceControl.service.servicename}</li>
            </ul>
            
            <p>Sub Service Name: <h:message for="subservicename" styleClass="error" /></p>             
            <h:inputText id="subServiceName" label="Sub Service Name" size="32" value="#{subServiceControl.subSerName}" required="false">
            </h:inputText>
            
            <br/>
            <br/>
            <h:commandButton id="findAll" value="Find All" action="#{subServiceControl.findAllSubServices()}" />
            <br/>
            <br/>
            <h:commandButton id="addNew" value="Add New" action="#{subServiceControl.addSubService()}" />
            <h:dataTable value="#{subServiceControl.subSers}"  border="1" 
                             var="services"     styleClass="css/tablecss.css">
                <h:column>
                        <f:facet name="header"> Sub Service ID </f:facet>
                        <h:outputText value="#{services.id}" />
                </h:column>
                <h:column>
                        <f:facet name="header"> Main Service ID </f:facet>
                        <h:outputText value="#{services.serviceid.serviceid}" />
                 </h:column> 
                <h:column>
                    <f:facet name="header"> Service Name </f:facet>
                    <h:outputText value="#{services.subname}" />
                </h:column>
                <h:column>
                    <f:facet name="header"> Update Sub Service  </f:facet>
                    <h:commandButton value="update" action="#{subServiceControl.updateService(services)}" />
                </h:column>
                <h:column>
                    <f:facet name="header"> Delete Sub Service  </f:facet>
                    <h:commandButton value="delete" action="#{subServiceControl.delSubService(services.id)}" />
                </h:column>
            </h:dataTable>  
            
         <!-- Link back to the index page -->
        <p><h:link value="Return to HomePage" outcome="/index"/> </p> 
        </h:form>
        
         </ui:define>
        </ui:composition>
    </h:body>
</html>

